<launch>
    <include file="$(find abel05_navigation)/launch/controller_ekf.launch"/>
        
    <include file="$(find abel05_navigation)/launch/imu.launch"/>

    <!-- 发布 base_imu_link 变换 -->
    <node pkg="tf" type="static_transform_publisher" name="imu_link_broadcaster" args="0.27 -0.05 0.11 0 0 -3.14 base_link base_imu_link 100" /> 
    
    <node pkg="robot_pose_ekf" type="robot_pose_ekf" name="robot_pose_ekf">
        <param name="output_frame" value="odom" />
        <param name="base_footprint_frame" value="base_link" />
        <param name="freq" value="20.0"/>
        <param name="sensor_timeout" value="1.0" />
        <param name="odom_used" value="true" />
        <param name="imu_used" value="true" />
        <param name="vo_used" value="false" />
        <param name="debug" value="false"/>
        <param name="self_diagnose" value="false" />
        <remap from="robot_pose_ekf/odom_combined" to="odom_combined" />
        <remap from="/imu_data" to="/imu" />
        <remap from="/odom" to="/odom_wheel" />
    </node>

    <node pkg="abel05_navigation" type="odom_ekf.py" name="odom_ekf" />
</launch>
